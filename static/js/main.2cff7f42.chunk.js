(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(51)},27:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),l=(a(27),a(6)),i=a(11),s=a.n(i),u=a(1),d=a(8),f=a(2),b=a(7),m=a(5),p=a(3),h=a(4),g=a(17),v=["hex","rgb","rgba"],E=a(13),x=a(10),k=a(18),y=a.n(k),w=a(19),O=a(38),j=function(e){var t=y()(e);return{hex:t.toHexString(),rgba:t.toRgbaArray()}},C=function(){return window.innerWidth>=1034},N={colors:[],results:{sample:"Sample",fontSize:15,fontWeight:"normal",groupBy:"background",includeBlackAndWhite:!1,combinations:[]},isWide:C()},S=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).state=N,e.onResize=function(){var t=e.state.isWide,a=C();t!==a&&e.setState({isWide:a})},e.addColor=function(t){return e.setState({colors:e.state.colors.concat(t)})},e.removeColor=function(t){e.setState({colors:e.state.colors.map(function(e,a){return a===t&&(e.fadeout=!0),e})},function(){setTimeout(function(){e.setState({colors:e.state.colors.filter(function(e,a){return a!==t})})},400)})},e.updateColor=function(t,a){return e.setState({colors:e.state.colors.map(function(e,n){return t===n?Object(d.a)({},e,a):e})})},e.replaceColor=function(t,a){return e.setState({colors:e.state.colors.map(function(e,n){return n===t?Object(d.a)({},e,a,{original:e}):e})})},e.swapColor=function(t,a){return e.setState({colors:e.state.colors.map(function(e,n){return n===t?a:e})})},e.updateResultsSettings=function(t){return e.setState({results:Object(d.a)({},e.state.results,t)})},window.addEventListener("resize",e.onResize),e}return Object(h.a)(t,e),t}(u.a),T=a(21),I=a(9),A=a.n(I),W=function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.labelText,n=e.className,o=e.inputRef,c=e.error,l=Object(T.a)(e,["id","labelText","className","inputRef","error"]),i="".concat(t,"-error-message"),s={};return c&&(s["aria-invalid"]="true",s["aria-describedby"]=i),r.a.createElement("div",{className:"dqpl-field-wrap"},r.a.createElement("label",{htmlFor:t,className:"dqpl-label"},a),r.a.createElement("input",Object.assign({id:t,type:"text",className:A()("dqpl-text-input",n,{"dqpl-error":c}),ref:o},s,l)),c&&r.a.createElement("div",{className:"dqpl-error-wrap",id:i},c))}}]),t}(n.Component),R=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={inputValue:""},a.onSubmit=function(e,t,n){e.preventDefault();var r=a.colorInput.value,o=Object(g.cssColorFormat)(r);if(v.includes(o)){var c=j(r);return n.find(function(e){return e.hex===c.hex})?a.handleError("Color already exists in palette"):(a.colorInput.value="",a.setState({inputValue:""}),t(Object(d.a)({},c,{background:!0,text:!1})))}a.handleError("Enter a valid hex, rgb, or rgba color")},a.onChange=function(){return a.setState({inputValue:a.colorInput.value,error:""})},a.handleError=function(e){a.setState({error:e}),a.colorInput.focus()},a}return Object(h.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.inputValue,n=t.error;return r.a.createElement(u.c,{to:[S]},function(t){var o=t.addColor,c=t.state.colors;return r.a.createElement("form",{autoComplete:"off",className:"color-form",onSubmit:function(t){return e.onSubmit(t,o,c)}},r.a.createElement("div",{className:"row"},r.a.createElement(W,{id:"color-field",labelText:"Enter a color (hex or rgb(a))",inputRef:function(t){return e.colorInput=t},onChange:e.onChange,error:n}),r.a.createElement(l.Button,{secondary:!0,type:"submit",disabled:!a||5===c.length,"aria-disabled":!a||5===c.length},"Add Color")))})}}]),t}(n.Component);a(41);function B(e){var t=e.color,a=e.number,n=e.children,o=e.type,c=e.original;return r.a.createElement("div",{className:"swatch",style:{backgroundColor:t}},a&&r.a.createElement("div",{className:"swatch-id","aria-label":"Color #".concat(a)},r.a.createElement("span",{"aria-hidden":"true"},a)),c&&r.a.createElement("div",{style:{background:c},className:"swatch-id original","aria-label":"Original color ".concat(c)}),r.a.createElement(s.a,null,"".concat(o," color ").concat(t)),n)}B.defaultProps={children:null,number:null,original:null};var z=a(20),D=function(e){function t(){var e,a;Object(f.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).tabs=[],a.state={activeTab:0},a.clearTabs=function(){return a.tabs=[]},a.setTabRef=function(e,t){return a.tabs[t]=e},a.onClick=function(e){return a.setState({activeTab:e})},a.focusActive=function(){return a.tabs[a.state.activeTab].focus()},a.onDelete=function(e){e!==a.tabs.length-1||0===e?a.focusActive():a.setState({activeTab:e-1},a.focusActive)},a.onKeyDown=function(e){var t=a.state.activeTab;switch(e.key){case"ArrowLeft":e.preventDefault();var n=0===t?a.tabs.length-1:t-1;a.setState({activeTab:n}),a.tabs[n].focus();break;case"ArrowRight":e.preventDefault();var r=t===a.tabs.length-1?0:t+1;a.setState({activeTab:r}),a.tabs[r].focus()}},a}return Object(h.a)(t,e),t}(u.a),F=function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props,t=e.i,a=e.color,n=a.hex,o=a.text,c=a.background,i=Object(z.a)(a.rgba,4),s=i[0],d=i[1],f=i[2],b=i[3],m=a.original;return r.a.createElement(u.c,{to:[S,D]},function(e,a){var i=e.updateColor,u=e.swapColor,p=e.removeColor,h=e.state.isWide,g=a.onDelete;return r.a.createElement("div",{className:"fields",role:"group","aria-labelledby":"cb-label-".concat(t)},r.a.createElement("div",{className:"row"},m&&r.a.createElement("button",{"aria-label":"Swap ".concat(n," back into palette"),className:"swap-back fa fa-refresh",onClick:function(){return u(t,m)}}),r.a.createElement("button",{type:"button","aria-label":"Remove color from palette",className:A()("remove-color fa fa-trash",{"no-replacement":!m}),onClick:function(){h||g(t),p(t)}})),r.a.createElement("div",{className:"row rgba-inputs"},r.a.createElement(W,{readOnly:!0,value:s,id:"r-".concat(t),labelText:"R"}),r.a.createElement(W,{readOnly:!0,value:d,id:"g-".concat(t),labelText:"G"}),r.a.createElement(W,{readOnly:!0,value:f,id:"b-".concat(t),labelText:"B"}),r.a.createElement(W,{readOnly:!0,value:b,id:"a-".concat(t),labelText:"A"})),r.a.createElement("div",{className:"row hex-input"},r.a.createElement(W,{readOnly:!0,value:n,id:"hex-".concat(t),labelText:"HEX"})),r.a.createElement("div",{className:"used-as"},r.a.createElement("h3",{id:"cb-label-".concat(t)},"This color is used as..."),r.a.createElement(l.Checkbox,{label:"Text",id:"text-cb-".concat(t),name:"color-used-as-".concat(t),checked:o,onClick:function(e){e.target.type&&"checkbox"===e.target.type&&i(t,{text:e.target.checked})}}),r.a.createElement(l.Checkbox,{label:"Background",id:"background-cb-".concat(t),name:"color-used-as-".concat(t),checked:c,onClick:function(e){e.target.type&&"checkbox"===e.target.type&&i(t,{background:e.target.checked})}})))})}}]),t}(n.Component),q=function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement(u.c,{to:[S]},function(e){var t=e.state.colors;return!!t.length&&r.a.createElement("ul",null,t.map(function(e,t){return r.a.createElement("li",{key:"color-".concat(t),className:A()({palette__fadeout:e.fadeout})},r.a.createElement(B,{color:e.hex,number:t+1,original:e.original&&e.original.hex,type:"palette"}),r.a.createElement(F,{color:e,i:t}))}))})}}]),t}(n.Component),P=(a(43),function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement(u.c,{to:[S,D]},function(e,t){var a=e.state.colors,o=t.setTabRef,c=t.clearTabs,l=t.onKeyDown,i=t.onClick,s=t.state.activeTab;return c(),r.a.createElement(n.Fragment,null,r.a.createElement("ul",{role:"tablist","aria-label":"Color Palette"},a.map(function(e,t){return r.a.createElement("li",{key:"tab-".concat(t),id:"tab-".concat(t),role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,onKeyDown:l,onClick:function(){return i(t)},ref:function(e){return o(e,t)},"aria-controls":"panel-".concat(t)},r.a.createElement(B,{color:e.hex,number:t+1,original:e.original&&e.original.hex,type:"palette"}))})),r.a.createElement("div",{className:"panels"},a.map(function(e,t){return r.a.createElement("div",{key:"panel-".concat(t),className:"panel",id:"panel-".concat(t),"aria-labelledby":"tab-".concat(t),role:"tabpanel"},s===t&&r.a.createElement(F,{color:e,i:t}))})))})}}]),t}(n.Component));a(45);function L(){return r.a.createElement(u.c,{to:[S]},function(e){var t=e.state,a=t.isWide,o=t.colors;return r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Palette (".concat(o.length," of 5 colors added)")),r.a.createElement("div",{className:"palette"},!o.length&&r.a.createElement("div",{className:"no-colors ".concat(a?"":"narrow")},"Add some colors!"),a?r.a.createElement(q,null):r.a.createElement(P,null)))})}var V=[{label:"10pt",value:10},{label:"11pt",value:11},{label:"12pt",value:12},{label:"13pt",value:13},{label:"14pt",value:14},{label:"15pt",value:15},{label:"16pt",value:16},{label:"17pt",value:17},{label:"18pt",value:18},{label:"19pt",value:19},{label:"20pt",value:20}],_=[{value:"normal",label:"Normal"},{value:"bold",label:"Bold"}],G=[{value:"background",label:"Background color"},{value:"text",label:"Text color"}],H=(a(47),function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(u.c,{to:[S]},function(t){var a=t.updateResultsSettings,n=t.state,o=n.results,c=n.isWide;return r.a.createElement("div",{className:"results ".concat(c?"":"narrow")},r.a.createElement("h2",null,"Results"),r.a.createElement("form",{className:"row",onSubmit:function(e){return e.preventDefault()}},r.a.createElement(W,{id:"results-text-sample",labelText:"Text sample",inputRef:function(t){return e.textSample=t},value:o.sample,onChange:function(){a({sample:e.textSample.value})}}),r.a.createElement(l.Select,{label:"Font size",listId:"results-font-size-list",selectedId:"selected-font-size-option",value:15,className:"font-size-select",options:V,onSelect:function(e){var t=e.value;a({fontSize:t})}}),r.a.createElement(l.Select,{label:"Font weight",listId:"results-font-weight-list",selectedId:"selected-font-weight-option",value:"normal",className:"font-weight-select",options:_,onSelect:function(e){var t=e.value;a({fontWeight:t})}}),r.a.createElement(l.Select,{label:"Group by",listId:"results-group-by-list",selectedId:"selected-group-by-option",value:"background",className:"group-by-select",options:G,onSelect:function(e){var t=e.value;a({groupBy:t})}}),r.a.createElement(l.Checkbox,{label:"Include black and white text",id:"black-and-white-text",name:"bw-txt",onClick:function(e){e.target.type&&"checkbox"===e.target.type&&a({includeBlackAndWhite:e.target.checked})}})))})}}]),t}(n.Component)),K=(a(49),function(e){function t(){return Object(f.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createElement(u.c,{to:[S]},function(e){var t=e.state,a=t.colors,n=t.results,o=e.replaceColor,c=function(e,t){var a=e.map(function(e,t){return Object(d.a)({},e,{originalIndex:t})});if(t.includeBlackAndWhite){var n=e.find(function(e){return"#000000"===e.hex}),r=e.find(function(e){return"#ffffff"===e.hex}),o={background:!1,text:!0};n||a.push(Object(d.a)({},j("#000000"),o,{forced:"black"})),r||a.push(Object(d.a)({},j("#ffffff"),o,{forced:"white"}))}var c=a.filter(function(e){return e.background}),l=a.filter(function(e){return e.text});return c.reduce(function(e,a){var n=Object(E.a)(O.commons.color.Color,Object(x.a)(a.rgba));return l.filter(function(e){return e.hex!==a.hex}).forEach(function(r){var o=Object(E.a)(O.commons.color.Color,Object(x.a)(r.rgba)),c=O.commons.color.getContrast(n,o),l=t.fontSize>=18||"bold"===t.fontWeight&&t.fontSize>=14?3:4.5,i=c.toFixed(2)>=l,s=!i&&Object(w.suggestColors)(n,o,{AA:l}),u=s&&s.AA,d=u&&j(u.fg),f=d.rgba,b=d.hex;e.push({fg:r,bg:a,contrast:c,rgba:f,hex:b,suggestion:u,pass:i})}),e},[])}(Object(x.a)(a),n).sort(function(e,t){var a="background"===n.groupBy?"bg":"fg";return e[a].hex>t[a].hex}).map(function(e,t){var a=e.fg,c=e.bg,l=e.contrast,i=e.rgba,s=e.hex,u=e.suggestion,d=e.pass;return r.a.createElement("li",{className:"row combo-row",key:"".concat(a.forced||a.originalIndex,"-").concat(c.forced||c.originalIndex)},r.a.createElement(B,{color:a.hex,number:"undefined"!==typeof a.originalIndex?a.originalIndex+1:null,type:"text"}),r.a.createElement("div",{className:"fa fa-plus","aria-hidden":"true"}),r.a.createElement(B,{color:c.hex,number:"undefined"!==typeof c.originalIndex?c.originalIndex+1:null,type:"background"},r.a.createElement("div",{className:"color-combos__sample",style:{fontSize:"".concat(96*n.fontSize/72,"px"),color:a.hex,fontWeight:n.fontWeight}},n.sample)),r.a.createElement("div",{className:"fa fa-pause","aria-hidden":"true"}),r.a.createElement("div",{className:"row res-row"},r.a.createElement("div",{className:A()("fa",{"fa-check-circle":d,"fa-close":!d}),"aria-hidden":"true"}),r.a.createElement("div",null,d?"PASS":"FAIL",r.a.createElement("p",null,"(".concat(l.toFixed(2),":1)")))),!d&&u&&s!==a.hex&&r.a.createElement("div",{className:"suggestion"},r.a.createElement("h3",{id:"suggestion-".concat(t)},"Suggestion"),r.a.createElement("div",{role:"group","aria-labelledby":"suggestion-".concat(t)},r.a.createElement(B,{color:u.fg,type:"palette"}),r.a.createElement("div",null,r.a.createElement("div",{className:"spec"},u.fg),r.a.createElement("div",{className:"spec"},"rgba(".concat(i.join(", "),")")),r.a.createElement("div",{className:"spec"},"".concat(u.contrast,":1"))),r.a.createElement("button",{className:"dqpl-link",onClick:function(){o(a.originalIndex,j(u.fg))}},"replace with this color"))))});return r.a.createElement("ul",{className:"color-combos"},c)})}}]),t}(n.Component));var J=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function M(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(function(){return r.a.createElement(u.b,null,r.a.createElement(l.SkipLink,{target:"#main-content"}),r.a.createElement(l.TopBar,null,r.a.createElement(l.MenuItem,null,"Color Palette"),r.a.createElement(l.MenuItem,{className:"dqpl-right-aligned"},r.a.createElement("a",{tabIndex:-1,href:"https://github.com/dequelabs/color-palette",className:"fa fa-github"},r.a.createElement(s.a,null,"Color Palette on GitHub")))),r.a.createElement(l.Workspace,{id:"main-content",tabIndex:-1},r.a.createElement("h1",null,"Color Palette"),r.a.createElement(R,null),r.a.createElement(L,null),r.a.createElement(H,null),r.a.createElement(K,null)))},null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/color-palette",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/color-palette","/service-worker.js");J?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):M(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):M(e)})}}()}},[[22,2,1]]]);
//# sourceMappingURL=main.2cff7f42.chunk.js.map